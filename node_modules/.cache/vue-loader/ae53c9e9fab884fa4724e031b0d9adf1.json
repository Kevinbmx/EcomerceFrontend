{"remainingRequest":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\src\\views\\administration\\role\\form.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\src\\views\\administration\\role\\form.vue","mtime":1593117816998},{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580396460146},{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1580396457614},{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1580396518341},{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580396460146},{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1580396514635}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {crearRol} from '@/packages/libreriaDeAccesos'\r\nimport {roleUrl} from '../../../packages/config'\r\nexport default {\r\ndata () {\r\n      return {\r\n            name:'',\r\n            description:'',\r\n            id : \"\",\r\n            maxLengthTextArea:50,\r\n            crearRolVar:crearRol\r\n      }\r\n    },\r\n    created(){\r\n        this.id = this.$route.params.id\r\n        if(this.$route.meta.mode === 'edit') {\r\n            this.fillRole(this.id)\r\n        }else{\r\n          this.$store.dispatch('hasThisPermission',this.crearRolVar)\r\n          .then(response=>{\r\n              if(!response){\r\n                  this.$router.push({ name: 'withoutAccess' })\r\n              }\r\n          })\r\n        }\r\n    },\r\n    methods:{\r\n        save(){\r\n            if(this.$route.meta.mode === 'edit') {\r\n                this.$myApi.post(roleUrl+'/'+this.id,{\r\n                    name: this.name,\r\n                    description: this.description\r\n                })\r\n                .then(response => {\r\n                    if(response.data.hasPermission){\r\n                        this.$router.push({ name: 'mainRole' })\r\n                    }\r\n                    else{\r\n                        this.$router.push({ name: 'withoutAccess' })\r\n                    }\r\n                });\r\n            }else{\r\n                this.$myApi.post(roleUrl,{\r\n                    name: this.name,\r\n                    description: this.description\r\n                })\r\n                .then(response => {\r\n                    if(response.data.hasPermission){\r\n                        this.$router.push({ name: 'mainRole' })\r\n                    }\r\n                    else{\r\n                        this.$router.push({ name: 'withoutAccess' })\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        fillRole(id){\r\n            this.$myApi.get(roleUrl+'/'+id)\r\n            .then(response => {\r\n                if(response.data.hasPermission){\r\n                    this.name= response.data.role.name\r\n                    this.description = response.data.role.description\r\n                 }else{\r\n                    this.$router.push({ name: 'withoutAccess' })\r\n                 }\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n",{"version":3,"sources":["form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"form.vue","sourceRoot":"src\\views\\administration\\role","sourcesContent":["<template>\r\n    <div id=\"pageIndexCategory\">\r\n        <v-card>\r\n            <v-card-title>\r\n                Agregar Modulos\r\n                <v-divider\r\n                    class=\"mx-2\"\r\n                    inset\r\n                    vertical\r\n                ></v-divider>\r\n                <v-spacer></v-spacer>\r\n            </v-card-title>\r\n            <v-form >\r\n                <v-container>\r\n                    <v-layout  wrap\r\n                    justify-space-between>\r\n                        <v-flex\r\n                        xs12\r\n                        md6\r\n                        >\r\n                            <v-text-field\r\n                                v-validate=\"'required'\"\r\n                                name=\"name\" \r\n                                label=\"name Role\" \r\n                                type=\"text\" \r\n                                :error-messages=\"errors.collect('name')\"\r\n                                data-vv-name=\"name\"\r\n                                required\r\n                                v-model=\"name\">\r\n                            </v-text-field>\r\n                            <v-textarea :maxlength=\"maxLengthTextArea\"\r\n                                v-validate=\"'required'\"\r\n                                data-vv-name=\"description\"\r\n                                :error-messages=\"errors.collect('description')\"\r\n                                v-model=\"description\" label=\"Descripcion del rol\" required>\r\n                            </v-textarea>\r\n                                <v-btn\r\n                                outline\r\n                                color=\"primary\"\r\n                                :to=\"{name: 'mainRole'}\"\r\n                                >\r\n                                cancelar\r\n                            </v-btn>\r\n                            <v-btn\r\n                                color=\"primary\"\r\n                                @click=\"save()\"\r\n                                >\r\n                                guardar\r\n                            </v-btn>\r\n                        </v-flex>\r\n                    </v-layout>\r\n                </v-container>\r\n            </v-form>\r\n        </v-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {crearRol} from '@/packages/libreriaDeAccesos'\r\nimport {roleUrl} from '../../../packages/config'\r\nexport default {\r\ndata () {\r\n      return {\r\n            name:'',\r\n            description:'',\r\n            id : \"\",\r\n            maxLengthTextArea:50,\r\n            crearRolVar:crearRol\r\n      }\r\n    },\r\n    created(){\r\n        this.id = this.$route.params.id\r\n        if(this.$route.meta.mode === 'edit') {\r\n            this.fillRole(this.id)\r\n        }else{\r\n          this.$store.dispatch('hasThisPermission',this.crearRolVar)\r\n          .then(response=>{\r\n              if(!response){\r\n                  this.$router.push({ name: 'withoutAccess' })\r\n              }\r\n          })\r\n        }\r\n    },\r\n    methods:{\r\n        save(){\r\n            if(this.$route.meta.mode === 'edit') {\r\n                this.$myApi.post(roleUrl+'/'+this.id,{\r\n                    name: this.name,\r\n                    description: this.description\r\n                })\r\n                .then(response => {\r\n                    if(response.data.hasPermission){\r\n                        this.$router.push({ name: 'mainRole' })\r\n                    }\r\n                    else{\r\n                        this.$router.push({ name: 'withoutAccess' })\r\n                    }\r\n                });\r\n            }else{\r\n                this.$myApi.post(roleUrl,{\r\n                    name: this.name,\r\n                    description: this.description\r\n                })\r\n                .then(response => {\r\n                    if(response.data.hasPermission){\r\n                        this.$router.push({ name: 'mainRole' })\r\n                    }\r\n                    else{\r\n                        this.$router.push({ name: 'withoutAccess' })\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        fillRole(id){\r\n            this.$myApi.get(roleUrl+'/'+id)\r\n            .then(response => {\r\n                if(response.data.hasPermission){\r\n                    this.name= response.data.role.name\r\n                    this.description = response.data.role.description\r\n                 }else{\r\n                    this.$router.push({ name: 'withoutAccess' })\r\n                 }\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"]}]}