{"remainingRequest":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\src\\views\\main\\cart\\stepTwoCart.vue?vue&type=style&index=0&id=f36bc9c6&scoped=true&lang=css&","dependencies":[{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\src\\views\\main\\cart\\stepTwoCart.vue","mtime":1569788078373},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":499162500000},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.is-active{\n    border: 3px #23d160 solid\n}\n.align-rigth{\n    text-align: right;\n}\n",{"version":3,"sources":["stepTwoCart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoPA;AACA;AACA;AACA;AACA;AACA","file":"stepTwoCart.vue","sourceRoot":"src\\views\\main\\cart","sourcesContent":["<template>\r\n    <div>\r\n        <!-- {{dir}} -->\r\n            <v-layout wrap justify-space-between v-if=\"directions.length >0\">\r\n                <v-flex xs12 md12 sm12>\r\n                    <h3>Seleccione una direccion o añada una nueva</h3> \r\n                </v-flex>\r\n        \r\n                <v-flex xs12 md4 sm6 v-for=\"(dir, index) in directions\" :key=\"index\" :class=\"{'is-active': dir.id === selectedDirection}\">\r\n                    <v-layout wrap justify-space-between  >\r\n                        <!-- <v-flex md12 > -->\r\n                            <!-- <v-layout wrap justify-space-between> -->\r\n                            <v-flex xs8 sm9 md10 pb-0>\r\n                                <h3>{{dir.name}}</h3>\r\n                            </v-flex>\r\n                            <v-flex xs4 sm3 md2 style=\"text-align: right;\" pb-0>\r\n                                <v-tooltip color=\"red\" left>\r\n                                    <v-btn flat small icon slot=\"activator\" color=\"red\">\r\n                                        <v-icon>clear</v-icon>\r\n                                    </v-btn>\r\n                                    <span>eliminar</span>\r\n                                </v-tooltip>\r\n                            </v-flex>\r\n                            <!-- </v-layout> -->\r\n                        <!-- </v-flex> -->\r\n                        <v-flex xs12 sm12 md12 pt-0 style=\"margin-top:-9px;\"> \r\n                            <span>Dir. {{dir.direction}}</span> <br>\r\n                            <span>cel. {{dir.phone_number}}</span>   \r\n                            <gmap-map style=\"height: 300px;\"\r\n                                :zoom=\"14\" :center=\"converToPosition(dir.latitud, dir.longitud)\"\r\n                                >\r\n                            <gmap-marker\r\n                                :position=\"converToPosition(dir.latitud, dir.longitud)\"\r\n                                :clickable=\"false\" \r\n                                :draggable=\"false\"\r\n                                />\r\n                            </gmap-map>\r\n                        </v-flex>\r\n                        <v-flex xs12 sm12 md12>\r\n                            <v-btn block color=\"secondary\" dark   @click=\"setSelectedDirection(dir.id)\">\r\n                                Seleccionar\r\n                            </v-btn>\r\n                        </v-flex>\r\n                    </v-layout>\r\n                </v-flex>\r\n                <v-flex xs12 sm12 md12>\r\n                    <div v-if=\"showErrorSelection\" class=\"v-messages theme--light error--text\"> <span>Seleccione una direccion antes de confirmar su pedido</span></div>\r\n                    <v-btn outline color=\"secondary\" @click=\"showFormDirection()\">\r\n                        añadir direccion<v-icon>add</v-icon>\r\n                    </v-btn>\r\n                    </v-flex>\r\n            <v-divider ></v-divider>\r\n        </v-layout>\r\n        <v-layout v-else>\r\n            <v-alert\r\n                :value=\"true\"\r\n                dismissible\r\n                color=\"warning\"\r\n                icon=\"priority_high\"\r\n                outline\r\n                >\r\n                no tienes direcciones guardada, create una\r\n            </v-alert>\r\n        </v-layout>\r\n        <v-layout wrap justify-space-between v-if=\"showDirection\">\r\n            <v-flex xs6 >\r\n                <v-text-field\r\n                    v-validate=\"{ required: true}\"\r\n                    name=\"name\" \r\n                    label=\"Nombre completo\" \r\n                    :error-messages=\"errors.collect('name')\"\r\n                    data-vv-name=\"name\"\r\n                    v-model=\"name\"\r\n                    required\r\n                    >\r\n                </v-text-field>\r\n                <div class=\"v-messages theme--light error--text\"> <span>{{ errors.first('name') }}</span></div>\r\n                <v-textarea\r\n                    v-validate=\"{required: true, max: 100}\"\r\n                    name=\"direction\" \r\n                    label=\"direccion del pedido\" \r\n                    type=\"text\" \r\n                    :error-messages=\"errors.collect('direction')\"\r\n                    data-vv-name=\"direction\"\r\n                    v-model=\"direction\"\r\n                    required\r\n                    >\r\n                </v-textarea>\r\n                <div class=\"v-messages theme--light error--text\"> <span>{{ errors.first('direction') }}</span></div>\r\n                <v-text-field\r\n                    v-validate=\"{ required: true, max: 12}\"\r\n                    name=\"celular\" \r\n                    label=\"celular destinatario\" \r\n                    :error-messages=\"errors.collect('celular')\"\r\n                    data-vv-name=\"celular\"\r\n                    v-model=\"phone_number\"\r\n                    required\r\n                    >\r\n                </v-text-field>\r\n                <div class=\"v-messages theme--light error--text\"> <span>{{ errors.first('phone_number') }}</span></div>\r\n            </v-flex>\r\n            <v-flex xs6 >\r\n                <gmap-map style=\"height: 400px;\"\r\n                        :zoom=\"14\" :center=\"center\"\r\n                        ref=\"map\" @click=\"clicked\">\r\n                    <gmap-marker\r\n                        :position=\"converToPosition(new_direction.latitud,new_direction.longitud)\"\r\n                        :clickable=\"false\" \r\n                        :draggable=\"false\"\r\n                        />\r\n                    </gmap-map>\r\n                    <!-- <div class=\"v-messages theme--light error--text\"> <span>{{ errors.first('latitud') }}</span></div> -->\r\n                    <!-- <div class=\"v-messages theme--light error--text\"> <span>{{ errors.first('longitud') }}</span></div> -->\r\n                    <div v-if=\"showMark\" class=\"v-messages theme--light error--text\"> <span>marque su direccion en el mapa</span></div>\r\n            </v-flex>\r\n            \r\n        </v-layout>\r\n        <v-layout>\r\n            <v-flex xs12 sm12 md12   class=\"align-rigth\">\r\n                <v-btn\r\n                color=\"primary\"\r\n                @click=\"continuar()\"\r\n                >\r\n                Confirmar pedido\r\n                </v-btn>\r\n            </v-flex>\r\n        </v-layout>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mapState,mapMutations } from 'vuex'\r\nexport default {\r\n    $_veeValidate: {\r\n        validator: 'new'\r\n    },\r\n    data () {\r\n        return {\r\n            selectedDirection:'',\r\n            showDirection:false,\r\n            showMark:false,\r\n            showErrorSelection:false,\r\n            center: {\r\n                lat: -17.34222036995646,\r\n                lng: -63.255672454833984\r\n            },\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$store.dispatch('getDirectionsByUserId')\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            directions: state => state.carrito.directions,\r\n            new_direction: state => state.carrito.new_direction\r\n        }),\r\n        name: {\r\n            get () {\r\n                return this.new_direction.name\r\n            },\r\n            set (value) {\r\n                this.$store.commit('name', value)\r\n            }\r\n        },\r\n        direction: {\r\n            get () {\r\n                return this.new_direction.direction\r\n            },\r\n            set (value) {\r\n                this.$store.commit('direction', value)\r\n            }\r\n        },\r\n        phone_number: {\r\n            get () {\r\n                return this.new_direction.phone_number\r\n            },\r\n            set (value) {\r\n                this.$store.commit('phone_number', value)\r\n            }\r\n        },\r\n    },\r\n    methods: {\r\n        // ...mapMutations(['new_direction']),\r\n        clicked (e) {\r\n            let objPosition = {\r\n                'latitud':e.latLng.lat(),\r\n                'longitud':e.latLng.lng()\r\n            }\r\n            this.$store.commit('latitud_latitud',objPosition)\r\n            // this.latitud =  e.latLng.lat()\r\n            // this.longitud =  e.latLng.lng()\r\n            // this.position ={lat:e.latLng.lat(), lng:e.latLng.lng()}\r\n            console.log('lat',e.latLng.lat())\r\n            console.log('lng',e.latLng.lng())\r\n        },\r\n        converToPosition(lat, lng){\r\n            let objPosition = {\r\n                'lat' : parseFloat(lat),\r\n                'lng' : parseFloat(lng)\r\n            }\r\n            // console.log('obj',objPosition)\r\n            return objPosition\r\n        },\r\n        setSelectedDirection(id){\r\n            this.showDirection = false\r\n            this.showErrorSelection = false\r\n            this.selectedDirection = id\r\n            this.$store.dispatch('selectDirection',id)\r\n        },\r\n        showFormDirection(){\r\n            this.showDirection = true\r\n            this.selectedDirection = ''\r\n            this.$store.dispatch('selectDirection',null)\r\n            // Swal.fire('Hello world!')\r\n        },\r\n        validate(){\r\n            this.$validator.validate().then(result => {\r\n                if (result) {\r\n                    this.$emit('next-step')\r\n                }\r\n            });\r\n        },\r\n        continuar(){\r\n            if(this.showDirection){\r\n                if(this.new_direction.latitud == 0 && this.new_direction.longitud == 0){\r\n                    console.log('no marco')\r\n                    this.showMark = true\r\n                }else{\r\n                    this.showMark = false\r\n                    this.validate()\r\n                }\r\n            }else{\r\n                if(this.selectedDirection == 0 || this.selectedDirection == '' ){\r\n                    this.showErrorSelection = true\r\n                }else{\r\n                    this.showErrorSelection = false\r\n                    this.validate()\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n    .is-active{\r\n        border: 3px #23d160 solid\r\n    }\r\n    .align-rigth{\r\n        text-align: right;\r\n    }\r\n</style>\r\n"]}]}