{"remainingRequest":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\src\\views\\administration\\category\\index.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\src\\views\\administration\\category\\index.vue","mtime":1553870447740},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":499162500000},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* ul, li{\n  margin-top: 10px;\n  margin-bottom: 10px;\n\n} */\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkRA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src\\views\\administration\\category","sourcesContent":["<template>\r\n<div id=\"pageIndexCategory\">\r\n      <v-container grid-list-xl fluid>\r\n          \r\n          <v-card>\r\n          <v-container fill-height fluid>\r\n            <v-layout row wrap>\r\n              <v-flex lg2 xs12 sm12 md2 pa-0 v-if=\"getsize() == 0\">\r\n                <v-btn  slot=\"activator\" @click=\"opendialog('dialog_form','addNewCategory')\"  color=\"primary\" dark>new Category</v-btn>\r\n              </v-flex>\r\n              <v-flex lg2 xs12 sm12 md2 pa-0 v-if=\"getsize() > 0\">\r\n                <v-btn  slot=\"activator\" @click=\"opendialog('dialog_form','addParentCategory')\" color=\"teal\" dark>add parent</v-btn>\r\n              </v-flex>\r\n              <v-flex lg2 xs12 sm12 md2 pa-0 v-if=\"getsize() == 1\">\r\n                <v-btn  slot=\"activator\" @click=\"opendialog('dialog_form','addChildrenCategory')\" color=\"cyan\" dark>add children</v-btn>\r\n              </v-flex>\r\n              <v-flex lg2 xs12 sm12 md2 pa-0 v-if=\"getsize() == 1  && getsize() < 2\">\r\n                <v-btn  slot=\"activator\" @click=\"opendialog('dialog_image','imageCategory')\" color=\"error\">Ver Imagen</v-btn>\r\n              </v-flex>\r\n              <v-flex lg2 xs12 sm12 md2 pa-0 v-if=\"getsize() == 1\">\r\n                <v-btn  slot=\"activator\" @click=\"opendialog('dialog_delete','deleteCategory')\" color=\"error\">delete</v-btn>\r\n              </v-flex>\r\n              <v-dialog v-model=\"dialog_form\" persistent max-width=\"600px\">\r\n                <v-card>\r\n                  <v-card-title>\r\n                    <span class=\"headline\">Category Name</span>\r\n                  </v-card-title>\r\n                  <v-card-text>\r\n                    \r\n                      <v-layout wrap>\r\n                        <v-flex xs12 sm12 md12>\r\n                          <v-text-field label=\"Category name\" v-model=\"nameCategory\"  required></v-text-field>\r\n                        </v-flex>\r\n                      </v-layout>\r\n                  \r\n                  </v-card-text>\r\n                  <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"red darken-1\" flat @click=\"ClearAndhideDialog('dialog_form')\">Cerrar</v-btn>\r\n                    <v-btn color=\"blue darken-1\" flat @click=\"categorySubmit('dialog_form')\">Guardar</v-btn>\r\n                  </v-card-actions>\r\n                </v-card>\r\n              </v-dialog> \r\n\r\n              <v-dialog v-model=\"dialog_delete\" persistent max-width=\"500px\">\r\n                  <v-card>\r\n                  <v-card-title class=\"headline\">Quieres eliminar esta categoria?</v-card-title>\r\n                  <v-card-text class=\"text-xs-center\"><v-icon size=177 color=\"red darken-2\">error</v-icon></v-card-text>\r\n                  <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"red darken-1\" flat @click=\"ClearAndhideDialog('dialog_delete')\">Cerrar</v-btn>\r\n                    <v-btn color=\"blue darken-1\" flat @click=\"categorySubmit('dialog_delete')\">de acuerdo</v-btn>\r\n                  </v-card-actions>\r\n                </v-card>\r\n              </v-dialog>\r\n\r\n              <v-dialog v-model=\"dialog_image\" persistent max-width=\"500px\">\r\n                <v-card>\r\n                  <v-card-title class=\"headline\">Imagen de Categoria</v-card-title>\r\n                  <!-- <v-img src=\"https://picsum.photos/510/300?random\" aspect-ratio=\"2\" contain></v-img> -->\r\n                  <v-img\r\n                  @click=\"onPickFile()\"\r\n                  :src=\"getImage.path\"\r\n                  :lazy-src=\"getImage.path\"\r\n                  aspect-ratio=\"2\"\r\n                  contain\r\n                  ></v-img>\r\n                   <input\r\n                        type=\"file\"\r\n                        style=\"display: none\"\r\n                        ref=\"fileInput\"\r\n                        accept=\"image/*\"\r\n                        @change=\"onFilePicked\">\r\n                  <!-- {{getImage}} -->\r\n                   <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"red darken-1\" flat @click=\"ClearAndhideDialog('dialog_image')\">Cerrar</v-btn>\r\n                    <v-btn color=\"blue darken-1\" flat @click=\"categorySubmit('dialog_image')\">de acuerdo</v-btn>\r\n                  </v-card-actions>\r\n                </v-card>\r\n              </v-dialog>\r\n\r\n               <v-dialog v-model=\"dialog_errorMatch\" persistent max-width=\"500px\">\r\n                <v-card>\r\n                  <v-card-title class=\"headline\">Chequeo incorrecto</v-card-title>\r\n                  <v-card-text class=\"text-xs-center\"><v-icon size=177 color=\"red darken-2\">error</v-icon></v-card-text>\r\n                  <v-card-actions>\r\n                    <v-card-text>\r\n                       <v-layout wrap>\r\n                         'debes de chequear de la misma raiz!'\r\n                       </v-layout>\r\n                    </v-card-text>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"red darken-1\" flat @click=\"dialog_errorMatch = false\">Cerrar</v-btn>\r\n                  </v-card-actions>\r\n                </v-card>\r\n              </v-dialog>\r\n\r\n\r\n              \r\n       <v-flex lg12 sm12 xs12>\r\n          <div>\r\n            <node-tree v-for=\"(child,index) in getCategory\" :key=\"index\" :node=\"child\"></node-tree>\r\n          </div>\r\n       </v-flex>\r\n             </v-layout>\r\n          </v-container>\r\n      </v-card>\r\n      \r\n    \r\n  </v-container>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * TODO:\r\n *\r\n *\r\n * FIXME:\r\n * -arreglar el chequeo automatico cuando creas , aÃ±adis nuevo padre, y creas hijo\r\n * -arreglar el chequeo automatico cuando se quiere chequear en una raiz no correspondiente\r\n*/\r\nimport NodeTree from \"./nodeTree\";\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n   props:{\r\n    tittleDialog:{\r\n      type:String,\r\n    },\r\n    textDialog:{\r\n      type:String,\r\n    }\r\n  },\r\n  data: () => ({\r\n    nameCategory : \"\",\r\n    nameMethod:'',\r\n    loading: false,\r\n    dialog_form: false,\r\n    dialog_delete:false,\r\n    dialog_errorMatch:false,\r\n    dialog_image:false\r\n  }),\r\n  components: {\r\n    NodeTree,\r\n  },\r\n  created(){\r\n      this.$store.dispatch('retrieveCategory')\r\n  },\r\n  computed:{\r\n    getCategory() {\r\n      return this.$store.getters.getCategory\r\n    },\r\n ...mapGetters([\r\n      'getImage',\r\n    ])\r\n  },\r\n  methods:{\r\n        onPickFile () {\r\n            this.$refs.fileInput.click()\r\n        },\r\n          onFilePicked (event) {\r\n            const files = event.target.files\r\n            let filename = files[0].name\r\n            if (filename.lastIndexOf('.') <= 0) {\r\n              return alert('Please add a valid file!')\r\n            }\r\n            const fileReader = new FileReader()\r\n            fileReader.addEventListener('load', () => {\r\n            let object ={\r\n                    path : fileReader.result,\r\n                    file:files,\r\n                    uuid:this.generateUUID()\r\n            }\r\n            this.$store.dispatch('putImageCategory',object)\r\n            })\r\n            fileReader.readAsDataURL(files[0])\r\n             \r\n        },\r\n     getsize(){\r\n      return this.$store.getters.getsize\r\n    },\r\n   \r\n    categorySubmit(dialogName){\r\n      \r\n      console.log('entra al metodo',this.nameMethod)\r\n      if (this.nameMethod ===\"addNewCategory\")\r\n      {\r\n        console.log('add categoria')\r\n        this.$store.dispatch('addCategorySubmit',\r\n        {\r\n          name: this.nameCategory,\r\n          parent_id: 0,\r\n        }).catch(error=>{\r\n          console.log(error)\r\n        })\r\n      }\r\n      else if(this.nameMethod ===\"addParentCategory\")\r\n      {\r\n        this.$store.dispatch('addParentSubmit',\r\n        {\r\n          name: this.nameCategory,\r\n        }).catch(error=>{\r\n          console.log(error)\r\n        })\r\n      }\r\n      else if(this.nameMethod ==\"addChildrenCategory\")\r\n      {\r\n        this.$store.dispatch('addChildrenSubmit',\r\n        {\r\n          name: this.nameCategory,\r\n        }).catch(error=>{\r\n          console.log(error)\r\n        })\r\n      }else if(this.nameMethod ==\"deleteCategory\"){\r\n        this.$store.dispatch('deleteCategory')\r\n        .catch(error=>{\r\n          console.log(error)\r\n        })\r\n      }else {\r\n        this.$store.dispatch('createImageCategory')\r\n        .catch(error=>{\r\n          console.log(error)\r\n        })\r\n      }\r\n\r\n        this.ClearAndhideDialog(dialogName)\r\n    },\r\n\r\n    ClearAndhideDialog(dialogName){\r\n      if(dialogName=='dialog_form'){\r\n        this.nameCategory = \"\"\r\n        this.$validator.reset()\r\n        this.dialog_form = !this.dialog_form\r\n      }\r\n      else if(dialogName == 'dialog_delete'){\r\n        this.dialog_delete = !this.dialog_delete\r\n      }else{\r\n        if(!this.dialog_image){\r\n          this.$store.dispatch('getImageCategory')\r\n          .catch(error=>{\r\n            console.log(error)\r\n          })\r\n        }\r\n        this.dialog_image = !this.dialog_image\r\n      }\r\n    },\r\n\r\n    abrirPopupError(){\r\n      this.dialog_errorMatch =  true\r\n    },\r\n    opendialog(dialogName,actionName){\r\n    //  DialogName = true\r\n      this.nameMethod = actionName\r\n      this.ClearAndhideDialog(dialogName)\r\n    },\r\n    generateUUID() { \r\n      var d = new Date().getTime();\r\n      if (typeof performance !== 'undefined' && typeof performance.now === 'function'){\r\n          d += performance.now(); //use high-precision timer if available\r\n      }\r\n      var newGuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n          var r = (d + Math.random() * 16) % 16 | 0;\r\n          d = Math.floor(d / 16);\r\n          return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n      });\r\n      return newGuid;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n  /* ul, li{\r\n    margin-top: 10px;\r\n    margin-bottom: 10px;\r\n\r\n  } */\r\n</style>\r\n"]}]}