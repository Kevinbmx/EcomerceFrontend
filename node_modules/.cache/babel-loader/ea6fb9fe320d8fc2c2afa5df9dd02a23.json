{"remainingRequest":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\babel-loader\\lib\\index.js!D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\src\\store\\modules\\main\\carrito.js","dependencies":[{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\src\\store\\modules\\main\\carrito.js","mtime":1582919267891},{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580396460146},{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1580396457614},{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\eslint-loader\\index.js","mtime":1580396469731}],"contextDependencies":[],"result":["import _defineProperty from \"D:\\\\kevin\\\\proyectos\\\\vuejs\\\\EcomerceFrontend\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\kevin\\\\proyectos\\\\vuejs\\\\EcomerceFrontend\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _Promise from \"D:\\\\kevin\\\\proyectos\\\\vuejs\\\\EcomerceFrontend\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/promise\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n\nvar _actions;\n\n// import Vue from 'vue'\nimport { pedidoUrl, carritoUrl, pedidoByUserIdUrl, directionUrl, updateProductUrl, updateProductAccordingPedido } from '../../../packages/config';\nvar state = {\n  pedido: null,\n  carrito: [],\n  new_direction: {\n    name: 'kevin delgadillo salazar',\n    direction: 'calle 24 de septiembre al frente de la policia 110',\n    latitud: -17.343550576389543,\n    longitud: -63.25430584547132,\n    phone_number: '75057204'\n  },\n  directions: [],\n  hasDirection: false\n};\nvar getters = {\n  searchCarritoById: function searchCarritoById(state) {\n    return function (product_id) {\n      return state.carrito.filter(function (cart) {\n        return cart.product_id === product_id;\n      });\n    };\n  },\n  getCantidadCarrito: function getCantidadCarrito(state) {\n    var cantitad_total = 0;\n\n    for (var x = 0; x < state.carrito.length; x++) {\n      cantitad_total = cantitad_total + state.carrito[x].quantity;\n    }\n\n    return cantitad_total;\n  },\n  getSubtotalCarrito: function getSubtotalCarrito(state) {\n    var subtotal = 0;\n\n    for (var x = 0; x < state.carrito.length; x++) {\n      subtotal = subtotal + state.carrito[x].price * state.carrito[x].quantity;\n    }\n\n    return subtotal;\n  },\n  getPosition: function getPosition(state) {}\n};\nvar mutations = {\n  selectPedidoByUserId: function selectPedidoByUserId(state, response) {\n    if (response !== null) {\n      state.pedido = response;\n      localStorage.setItem('pedido_id', response.id);\n    }\n  },\n  selectCarritoByPedidoId: function selectCarritoByPedidoId(state, response) {\n    // state.carrito = []\n    state.carrito = response;\n  },\n  addCarrito: function addCarrito(state, response) {\n    state.carrito = response; // var cambio = false\n    // if (state.carrito.length > 0){\n    //     // console.log('entra a verificar')\n    //     const index = state.carrito.findIndex(item => item.product_id === response.product_id);\n    //     if(index > 0){\n    //         Vue.set(state.carrito, index, response)\n    //         cambio = true\n    //     }\n    // }\n    // if(!cambio){\n    //     // console.log('entra a pushear')\n    //     state.carrito.push(response)\n    // }\n  },\n  createPedido: function createPedido(state, response) {\n    state.pedido = response;\n    localStorage.setItem('pedido_id', response.id);\n  },\n  getDirectionsByUserId: function getDirectionsByUserId(state, response) {\n    state.directions = response;\n\n    if (state.directions.length > 0) {\n      state.hasDirection = true;\n    }\n  },\n  name: function name(state, changeDirection) {\n    state.new_direction.name = changeDirection;\n  },\n  direction: function direction(state, changeDirection) {\n    state.new_direction.direction = changeDirection;\n  },\n  phone_number: function phone_number(state, changeDirection) {\n    state.new_direction.phone_number = changeDirection;\n  },\n  latitud_latitud: function latitud_latitud(state, objPosition) {\n    state.new_direction.latitud = objPosition.latitud;\n    state.new_direction.longitud = objPosition.longitud;\n  },\n  selectDirection: function selectDirection(state, direction_id) {\n    state.pedido.direction_id = direction_id;\n  },\n  insertDirection: function insertDirection(state, objDirection) {\n    state.new_direction = objDirection;\n  },\n  updateProductAccoodingPedido: function updateProductAccoodingPedido(state, objProduct) {\n    state.carrito.product = objProduct;\n  },\n  updatePedido: function updatePedido(state, objPedido) {\n    state.pedido = objPedido;\n  },\n  fecha_entrega: function fecha_entrega(state, date) {\n    state.pedido.fecha_entrega = date;\n  },\n  updateTotalPedido: function updateTotalPedido(state, total) {\n    state.pedido.total = total;\n  },\n  change_estado_pedido: function change_estado_pedido(state, estado) {\n    state.pedido.estado = estado;\n  }\n};\nvar actions = (_actions = {\n  selectPedidoByUserId: function selectPedidoByUserId(context) {\n    var _this = this;\n\n    return new _Promise(function (resolve, reject) {\n      _this.$myApi.get(pedidoByUserIdUrl).then(function (response) {\n        resolve(response.data.pedido); // console.log('pedido',response.data.pedido)\n\n        context.commit('selectPedidoByUserId', response.data.pedido);\n      }).catch(function (error) {\n        // console.log(error)\n        reject(error);\n      });\n    });\n  },\n  selectCarritoByPedidoId: function selectCarritoByPedidoId(context, pedido_id) {\n    var _this2 = this;\n\n    return new _Promise(function (resolve, reject) {\n      _this2.$myApi.get(carritoUrl + '/' + pedido_id).then(function (response) {\n        // console.log('carrito1',response.data.carrito)\n        resolve(response.data.carrito);\n        context.commit('selectCarritoByPedidoId', response.data.carrito);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  addCarrito: function addCarrito(_ref, obj) {\n    var dispatch = _ref.dispatch,\n        getters = _ref.getters;\n    var cartObtained = getters.searchCarritoById(obj.product.id);\n    var objCart = {\n      product_id: obj.product.id,\n      pedido_id: obj.pedido.id,\n      quantity: obj.cantidadSelected,\n      price: obj.product.price\n    };\n\n    if (cartObtained.length > 0) {\n      var sumQuantity = cartObtained[0].quantity + obj.cantidadSelected;\n\n      if (sumQuantity <= obj.product.quantity && sumQuantity > cartObtained[0].quantity) {\n        objCart.quantity = sumQuantity;\n        dispatch('createAndUpdateCarrito', objCart);\n      } else {\n        console.log('no se puede a;adir mas de ' + obj.product.quantity + 'items');\n      }\n    } else {\n      dispatch('createAndUpdateCarrito', objCart);\n    }\n  },\n  createPedido: function () {\n    var _createPedido = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee(context) {\n      var response;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return this.$myApi.post(pedidoUrl);\n\n            case 3:\n              response = _context.sent;\n              context.commit('createPedido', response.data.pedido);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[0, 7]]);\n    }));\n\n    function createPedido(_x) {\n      return _createPedido.apply(this, arguments);\n    }\n\n    return createPedido;\n  }(),\n  createAndUpdateCarrito: function createAndUpdateCarrito(context, obj) {\n    var _this3 = this;\n\n    return new _Promise(function (resolve, reject) {\n      _this3.$myApi.post(carritoUrl, {\n        product_id: obj.product_id,\n        pedido_id: obj.pedido_id,\n        quantity: obj.quantity,\n        price: obj.price\n      }).then(function (response) {\n        context.commit('addCarrito', response.data.carrito);\n        resolve(response);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  eliminarItem: function eliminarItem(_ref2, obj) {\n    var _this4 = this;\n\n    var dispatch = _ref2.dispatch;\n    return new _Promise(function (resolve, reject) {\n      _this4.$myApi.delete(carritoUrl + '/' + obj.product_id + '/' + obj.pedido_id).then(function (response) {\n        if (response.data.deleted) {\n          dispatch('selectCarritoByPedidoId', obj.pedido_id);\n        }\n\n        resolve(response.data.deleted);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  getDirectionsByUserId: function getDirectionsByUserId(context) {\n    var _this5 = this;\n\n    return new _Promise(function (resolve, reject) {\n      _this5.$myApi.get(directionUrl).then(function (response) {\n        if (response.data.direction != null) {\n          context.commit('getDirectionsByUserId', response.data.direction);\n        }\n      });\n    }).catch(function (error) {\n      reject(error);\n    });\n  },\n  selectDirection: function selectDirection(context, direction_id) {\n    return new _Promise(function (resolve, reject) {\n      context.commit('selectDirection', direction_id);\n      resolve(true);\n    }).catch(function (error) {\n      reject(error);\n    });\n  },\n  insertDirection: function insertDirection(_ref3) {\n    var _this6 = this;\n\n    var state = _ref3.state,\n        commit = _ref3.commit;\n    return new _Promise(function (resolve, reject) {\n      _this6.$myApi.post(directionUrl, state.new_direction).then(function (response) {\n        if (response.data.direction != null) {\n          commit('insertDirection', response.data.direction);\n          resolve(response.data.direction);\n        }\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  updateProductAccoodingPedido: function updateProductAccoodingPedido() {\n    this.$myApi.post(productUrl + '/' + produc_id, state.carrito).then(function (response) {\n      console.log(response.data); // if(response.data.product != null){\n      //     commit('updateProductAccoodingPedido',response.data.product)\n      //     resolve(response.data.product)\n      // }\n    }); // return new Promise((resolve, reject) => {\n    // for (let index = 0; index < state.carrito.length; index++) {\n    //     state.carrito.product.quantity = state.carrito.quantity \n    //     this.$myApi.post(productUrl+'/'+produc_id,state.carrito.product)\n    //     .then(response =>{\n    //         if(response.data.product != null){\n    //             commit('updateProductAccoodingPedido',response.data.product)\n    //             resolve(response.data.product)\n    //         }\n    //     }).catch(error =>{\n    //         reject(error)\n    //     })       \n    // };\n  },\n  updatePedido: function updatePedido(_ref4, pedido_id) {\n    var _this7 = this;\n\n    var state = _ref4.state,\n        commit = _ref4.commit;\n    return new _Promise(function (resolve, reject) {\n      _this7.$myApi.post(pedidoUrl + '/' + pedido_id, state.pedido).then(function (response) {\n        if (response.data.pedido != null) {\n          commit('updatePedido', response.data.pedido);\n          resolve(true);\n        }\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  }\n}, _defineProperty(_actions, \"updateProductAccoodingPedido\", function updateProductAccoodingPedido(_ref5) {\n  var _this8 = this;\n\n  var state = _ref5.state,\n      commit = _ref5.commit;\n  return new _Promise(function (resolve, reject) {\n    _this8.$myApi.post(updateProductAccordingPedido, state.carrito).then(function (response) {\n      resolve(response.data.update);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n}), _defineProperty(_actions, \"fecha_entrega\", function fecha_entrega(context, date) {\n  context.commit('fecha_entrega', date);\n}), _defineProperty(_actions, \"updateTotalPedido\", function updateTotalPedido(_ref6) {\n  var getters = _ref6.getters,\n      commit = _ref6.commit;\n  commit('updateTotalPedido', getters.getSubtotalCarrito);\n}), _defineProperty(_actions, \"change_estado_pedido\", function change_estado_pedido(context, estado) {\n  context.commit('change_estado_pedido', estado);\n}), _defineProperty(_actions, \"updateProductForPedido\", function updateProductForPedido(_ref7) {\n  var state = _ref7.state;\n  this.$myApi.post(updateProductUrl, state.carrito).then(function (response) {\n    console.log('actualizado con exito llos productos', response.data);\n  });\n}), _actions);\nexport default {\n  state: state,\n  getters: getters,\n  mutations: mutations,\n  actions: actions\n};",{"version":3,"sources":["D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\src\\store\\modules\\main\\carrito.js"],"names":["pedidoUrl","carritoUrl","pedidoByUserIdUrl","directionUrl","updateProductUrl","updateProductAccordingPedido","state","pedido","carrito","new_direction","name","direction","latitud","longitud","phone_number","directions","hasDirection","getters","searchCarritoById","product_id","filter","cart","getCantidadCarrito","cantitad_total","x","length","quantity","getSubtotalCarrito","subtotal","price","getPosition","mutations","selectPedidoByUserId","response","localStorage","setItem","id","selectCarritoByPedidoId","addCarrito","createPedido","getDirectionsByUserId","changeDirection","latitud_latitud","objPosition","selectDirection","direction_id","insertDirection","objDirection","updateProductAccoodingPedido","objProduct","product","updatePedido","objPedido","fecha_entrega","date","updateTotalPedido","total","change_estado_pedido","estado","actions","context","resolve","reject","$myApi","get","then","data","commit","catch","error","pedido_id","obj","dispatch","cartObtained","objCart","cantidadSelected","sumQuantity","console","log","post","createAndUpdateCarrito","eliminarItem","delete","deleted","productUrl","produc_id","update"],"mappings":"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","sourcesContent":["// import Vue from 'vue'\r\nimport {pedidoUrl, carritoUrl,pedidoByUserIdUrl,directionUrl,updateProductUrl,updateProductAccordingPedido} from '../../../packages/config'\r\n\r\nconst state = {\r\n    pedido : null,\r\n    carrito :[],\r\n    new_direction:{\r\n        name:'kevin delgadillo salazar',\r\n        direction:'calle 24 de septiembre al frente de la policia 110',\r\n        latitud:-17.343550576389543,\r\n        longitud:-63.25430584547132,\r\n        phone_number:'75057204'\r\n    },\r\n    directions : [],\r\n    hasDirection:false\r\n}\r\n\r\nconst getters = {\r\n    searchCarritoById: state => product_id => {\r\n        return state.carrito.filter(cart => cart.product_id === product_id)\r\n    },\r\n    getCantidadCarrito(state){\r\n        var cantitad_total = 0\r\n        for (let x = 0; x < state.carrito.length; x++) {\r\n            cantitad_total = cantitad_total + state.carrito[x].quantity\r\n        }\r\n        return cantitad_total\r\n    },\r\n    getSubtotalCarrito(state){\r\n        var subtotal = 0\r\n        for (let x = 0; x < state.carrito.length; x++) {\r\n            subtotal = subtotal + (state.carrito[x].price *state.carrito[x].quantity)\r\n        }\r\n        return subtotal\r\n    },\r\n  \r\n    getPosition(state){\r\n\r\n    }\r\n}\r\n\r\nconst mutations = {\r\n    selectPedidoByUserId(state,response){\r\n        if(response !==null){\r\n            state.pedido = response\r\n            localStorage.setItem('pedido_id', response.id)\r\n        }\r\n    },\r\n    selectCarritoByPedidoId(state, response){\r\n            // state.carrito = []\r\n            state.carrito = response\r\n    },\r\n    addCarrito(state, response){\r\n        state.carrito = response\r\n        // var cambio = false\r\n        // if (state.carrito.length > 0){\r\n        //     // console.log('entra a verificar')\r\n        //     const index = state.carrito.findIndex(item => item.product_id === response.product_id);\r\n        //     if(index > 0){\r\n        //         Vue.set(state.carrito, index, response)\r\n        //         cambio = true\r\n        //     }\r\n        // }\r\n        // if(!cambio){\r\n        //     // console.log('entra a pushear')\r\n        //     state.carrito.push(response)\r\n        // }\r\n    },\r\n    createPedido(state, response){\r\n        state.pedido = response\r\n        localStorage.setItem('pedido_id', response.id)\r\n    },\r\n\r\n    getDirectionsByUserId(state,response){\r\n        state.directions = response\r\n        if(state.directions.length>0){\r\n            state.hasDirection = true\r\n        }\r\n    },\r\n    name (state, changeDirection) {\r\n        state.new_direction.name = changeDirection\r\n    },\r\n    direction (state, changeDirection) {\r\n        state.new_direction.direction = changeDirection\r\n    },\r\n    phone_number (state, changeDirection) {\r\n        state.new_direction.phone_number = changeDirection\r\n    },\r\n    latitud_latitud (state, objPosition) {\r\n        state.new_direction.latitud = objPosition.latitud\r\n        state.new_direction.longitud = objPosition.longitud\r\n    },\r\n    selectDirection(state, direction_id){\r\n        state.pedido.direction_id = direction_id\r\n    },\r\n    insertDirection(state, objDirection){\r\n        state.new_direction = objDirection\r\n    },\r\n    updateProductAccoodingPedido(state, objProduct){\r\n        state.carrito.product = objProduct\r\n    },\r\n    updatePedido(state, objPedido){\r\n        state.pedido = objPedido\r\n    },\r\n    fecha_entrega(state, date){\r\n        state.pedido.fecha_entrega = date\r\n    },\r\n    updateTotalPedido(state, total){\r\n        state.pedido.total = total\r\n    },\r\n    change_estado_pedido(state, estado){\r\n        state.pedido.estado = estado\r\n    }\r\n}\r\n\r\nconst actions = {\r\n    selectPedidoByUserId(context){\r\n        return new Promise((resolve, reject) => {\r\n            this.$myApi.get(pedidoByUserIdUrl)\r\n            .then(response=>{\r\n                resolve(response.data.pedido)\r\n                // console.log('pedido',response.data.pedido)\r\n                context.commit('selectPedidoByUserId',response.data.pedido)\r\n            }) \r\n            .catch(error =>{\r\n                // console.log(error)\r\n                reject(error)\r\n            })\r\n        })\r\n    },\r\n    selectCarritoByPedidoId(context, pedido_id){\r\n        return new Promise((resolve, reject) => {\r\n            this.$myApi.get(carritoUrl + '/'+ pedido_id)\r\n            .then(response =>{\r\n                // console.log('carrito1',response.data.carrito)\r\n                resolve(response.data.carrito)\r\n                context.commit('selectCarritoByPedidoId',response.data.carrito)\r\n            }).catch(error =>{\r\n                reject(error)\r\n            })\r\n        })\r\n    },\r\n\r\n    addCarrito({ dispatch, getters },obj){\r\n        var cartObtained = getters.searchCarritoById(obj.product.id)\r\n        let objCart = {\r\n                        product_id:     obj.product.id, \r\n                        pedido_id:      obj.pedido.id,\r\n                        quantity:       obj.cantidadSelected,\r\n                        price:          obj.product.price,\r\n                    }\r\n        if(cartObtained.length > 0 ){\r\n            var sumQuantity = cartObtained[0].quantity + obj.cantidadSelected\r\n            if(sumQuantity <= obj.product.quantity && sumQuantity > cartObtained[0].quantity){\r\n                objCart.quantity = sumQuantity\r\n                dispatch('createAndUpdateCarrito',objCart)\r\n            }else{\r\n                console.log('no se puede a;adir mas de ' +  obj.product.quantity + 'items' )\r\n            }\r\n        } else{\r\n            dispatch('createAndUpdateCarrito',objCart)\r\n        }\r\n    },\r\n    async createPedido(context){\r\n        try{\r\n            let response = await this.$myApi.post(pedidoUrl)\r\n            context.commit('createPedido',response.data.pedido)\r\n        }catch(ex){\r\n            console.log(ex)\r\n        }\r\n        // this.$myApi.post(pedidoUrl)\r\n        // .then(response=>{\r\n        //     // console.log('pedido',response.data.pedido)\r\n        //     context.commit('createPedido',response.data.pedido)\r\n        // })\r\n    },\r\n    createAndUpdateCarrito(context, obj){\r\n        return new Promise((resolve, reject) => {\r\n            this.$myApi.post(carritoUrl,{\r\n            product_id:     obj.product_id,\r\n            pedido_id:      obj.pedido_id,\r\n            quantity:       obj.quantity,\r\n            price:          obj.price,\r\n            })\r\n            .then(response =>{\r\n                context.commit('addCarrito',response.data.carrito)\r\n                resolve(response)\r\n            })\r\n            .catch(error =>{\r\n                reject(error)\r\n            })\r\n        })\r\n    },\r\n    eliminarItem({dispatch}, obj){\r\n        return new Promise((resolve, reject) => {\r\n            this.$myApi.delete(carritoUrl+'/'+obj.product_id+'/'+obj.pedido_id)\r\n            .then(response =>{\r\n                if(response.data.deleted){\r\n                    dispatch('selectCarritoByPedidoId',obj.pedido_id)\r\n                }\r\n                resolve(response.data.deleted)\r\n            })\r\n            .catch(error =>{\r\n                reject(error)\r\n            })\r\n        })\r\n    },\r\n    getDirectionsByUserId(context){\r\n        return new Promise((resolve, reject) => {\r\n            this.$myApi.get(directionUrl)\r\n            .then(response =>{\r\n                if(response.data.direction != null){\r\n                    context.commit('getDirectionsByUserId',response.data.direction)\r\n                }\r\n            })\r\n        })\r\n        .catch(error =>{\r\n            reject(error)\r\n        })\r\n    },\r\n    selectDirection(context,direction_id){\r\n        return new Promise((resolve, reject) => {\r\n            context.commit('selectDirection',direction_id)\r\n            resolve(true)\r\n        })\r\n        .catch(error =>{\r\n            reject(error)\r\n        })\r\n    },\r\n    insertDirection({ state, commit }){\r\n        return new Promise((resolve, reject) => {\r\n            this.$myApi.post(directionUrl,state.new_direction)\r\n            .then(response =>{\r\n                if(response.data.direction != null){\r\n                    commit('insertDirection',response.data.direction)\r\n                    resolve(response.data.direction)\r\n                }\r\n            }).catch(error =>{\r\n                reject(error)\r\n            })\r\n        })\r\n    },\r\n    updateProductAccoodingPedido(){\r\n        this.$myApi.post(productUrl+'/'+produc_id,state.carrito)\r\n            .then(response =>{\r\n                console.log(response.data)\r\n                // if(response.data.product != null){\r\n                //     commit('updateProductAccoodingPedido',response.data.product)\r\n                //     resolve(response.data.product)\r\n                // }\r\n            })\r\n            \r\n        // return new Promise((resolve, reject) => {\r\n        // for (let index = 0; index < state.carrito.length; index++) {\r\n        //     state.carrito.product.quantity = state.carrito.quantity \r\n        //     this.$myApi.post(productUrl+'/'+produc_id,state.carrito.product)\r\n        //     .then(response =>{\r\n        //         if(response.data.product != null){\r\n        //             commit('updateProductAccoodingPedido',response.data.product)\r\n        //             resolve(response.data.product)\r\n        //         }\r\n        //     }).catch(error =>{\r\n        //         reject(error)\r\n        //     })       \r\n        // };\r\n    },\r\n    updatePedido({ state, commit },pedido_id){\r\n        return new Promise((resolve, reject) => {\r\n            this.$myApi.post(pedidoUrl+'/'+pedido_id,state.pedido)\r\n            .then(response =>{\r\n                if(response.data.pedido != null){\r\n                    commit('updatePedido',response.data.pedido)\r\n                    resolve(true)\r\n                }\r\n            })\r\n            .catch(error =>{\r\n                reject(error)\r\n            })\r\n        })\r\n    },\r\n    updateProductAccoodingPedido({ state, commit }){\r\n        return new Promise((resolve, reject) => {\r\n            this.$myApi.post(updateProductAccordingPedido, state.carrito)\r\n            .then(response =>{\r\n                resolve(response.data.update)\r\n            })\r\n            .catch(error =>{\r\n                reject(error)\r\n            })  \r\n        })\r\n    },\r\n    fecha_entrega(context,date){\r\n        context.commit('fecha_entrega',date)\r\n    },\r\n    updateTotalPedido({ getters, commit }){\r\n        commit('updateTotalPedido',getters.getSubtotalCarrito)\r\n    },\r\n    change_estado_pedido(context, estado){\r\n        context.commit('change_estado_pedido',estado)\r\n    },\r\n    updateProductForPedido({ state }){\r\n        this.$myApi.post(updateProductUrl,state.carrito)\r\n        .then(response =>{\r\n            console.log('actualizado con exito llos productos',response.data)\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport default{\r\n    state, getters, mutations, actions\r\n}\r\n"]}]}