{"remainingRequest":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\babel-loader\\lib\\index.js!D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\vuetify-loader\\lib\\loader.js!D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\src\\views\\main\\cart\\stepTwoCart.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\src\\views\\main\\cart\\stepTwoCart.vue","mtime":1580438188581},{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580396460146},{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1580396457614},{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1580396518341},{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580396460146},{"path":"D:\\kevin\\proyectos\\vuejs\\EcomerceFrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1580396514635}],"contextDependencies":[],"result":["import _parseFloat from \"D:\\\\kevin\\\\proyectos\\\\vuejs\\\\EcomerceFrontend\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/parse-float\";\nimport \"core-js/modules/es6.function.name\";\nimport _objectSpread from \"D:\\\\kevin\\\\proyectos\\\\vuejs\\\\EcomerceFrontend\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState, mapMutations } from 'vuex';\nexport default {\n  $_veeValidate: {\n    validator: 'new'\n  },\n  data: function data() {\n    return {\n      selectedDirection: '',\n      // showDirection:true,\n      showMark: false,\n      showErrorSelection: false,\n      center: {\n        lat: -17.34222036995646,\n        lng: -63.255672454833984\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.$store.dispatch('getDirectionsByUserId');\n  },\n  computed: _objectSpread({}, mapState({\n    directions: function directions(state) {\n      return state.carrito.directions;\n    },\n    new_direction: function new_direction(state) {\n      return state.carrito.new_direction;\n    },\n    hasDirection: function hasDirection(state) {\n      return state.carrito.hasDirection;\n    }\n  }), {\n    name: {\n      get: function get() {\n        return this.new_direction.name;\n      },\n      set: function set(value) {\n        this.$store.commit('name', value);\n      }\n    },\n    direction: {\n      get: function get() {\n        return this.new_direction.direction;\n      },\n      set: function set(value) {\n        this.$store.commit('direction', value);\n      }\n    },\n    phone_number: {\n      get: function get() {\n        return this.new_direction.phone_number;\n      },\n      set: function set(value) {\n        this.$store.commit('phone_number', value);\n      }\n    }\n  }),\n  methods: {\n    // ...mapMutations(['new_direction']),\n    clicked: function clicked(e) {\n      var objPosition = {\n        'latitud': e.latLng.lat(),\n        'longitud': e.latLng.lng()\n      };\n      this.$store.commit('latitud_latitud', objPosition); // this.latitud =  e.latLng.lat()\n      // this.longitud =  e.latLng.lng()\n      // this.position ={lat:e.latLng.lat(), lng:e.latLng.lng()}\n\n      console.log('lat', e.latLng.lat());\n      console.log('lng', e.latLng.lng());\n    },\n    converToPosition: function converToPosition(lat, lng) {\n      var objPosition = {\n        'lat': _parseFloat(lat),\n        'lng': _parseFloat(lng) // console.log('obj',objPosition)\n\n      };\n      return objPosition;\n    },\n    setSelectedDirection: function setSelectedDirection(id) {\n      this.showErrorSelection = false;\n      this.selectedDirection = id;\n      this.$store.dispatch('selectDirection', id);\n    },\n    showFormDirection: function showFormDirection() {\n      this.selectedDirection = '';\n      this.$store.dispatch('selectDirection', null); // Swal.fire('Hello world!')\n    },\n    validate: function validate() {\n      var _this = this;\n\n      this.$validator.validate().then(function (result) {\n        if (result) {\n          _this.$emit('next-step');\n        }\n      });\n    },\n    continuar: function continuar() {\n      if (!this.hasDirection) {\n        if (this.new_direction.latitud == 0 && this.new_direction.longitud == 0) {\n          console.log('no marco');\n          this.showMark = true;\n        } else {\n          this.showMark = false;\n          this.validate();\n        }\n      } else {\n        if (this.selectedDirection == 0 || this.selectedDirection == '') {\n          this.showErrorSelection = true;\n        } else {\n          this.showErrorSelection = false;\n          this.validate();\n        }\n      }\n    }\n  }\n};",{"version":3,"sources":["stepTwoCart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <!-- {{dir}} -->\r\n            <v-layout wrap justify-space-between v-if=\"hasDirection\">\r\n                <v-flex xs12 md12 sm12>\r\n                    <h3>Seleccione una direccion o a√±ada una nueva</h3> \r\n                </v-flex>\r\n        \r\n                <v-flex xs12 md4 sm6 v-for=\"(dir, index) in directions\" :key=\"index\" :class=\"{'is-active': dir.id === selectedDirection}\">\r\n                    <v-layout wrap justify-space-between  >\r\n                        <!-- <v-flex md12 > -->\r\n                            <!-- <v-layout wrap justify-space-between> -->\r\n                            <v-flex xs8 sm9 md10 pb-0>\r\n                                <h3>{{dir.name}}</h3>\r\n                            </v-flex>\r\n                            <v-flex xs4 sm3 md2 style=\"text-align: right;\" pb-0>\r\n                                <v-tooltip color=\"red\" left>\r\n                                    <v-btn flat small icon slot=\"activator\" color=\"red\">\r\n                                        <v-icon>clear</v-icon>\r\n                                    </v-btn>\r\n                                    <span>eliminar</span>\r\n                                </v-tooltip>\r\n                            </v-flex>\r\n                            <!-- </v-layout> -->\r\n                        <!-- </v-flex> -->\r\n                        <v-flex xs12 sm12 md12 pt-0 style=\"margin-top:-9px;\"> \r\n                            <span>Dir. {{dir.direction}}</span> <br>\r\n                            <span>cel. {{dir.phone_number}}</span>   \r\n                            <gmap-map style=\"height: 300px;\"\r\n                                :zoom=\"14\" :center=\"converToPosition(dir.latitud, dir.longitud)\"\r\n                                >\r\n                            <gmap-marker\r\n                                :position=\"converToPosition(dir.latitud, dir.longitud)\"\r\n                                :clickable=\"false\" \r\n                                :draggable=\"false\"\r\n                                />\r\n                            </gmap-map>\r\n                        </v-flex>\r\n                        <v-flex xs12 sm12 md12>\r\n                            <v-btn block color=\"secondary\" dark   @click=\"setSelectedDirection(dir.id)\">\r\n                                Seleccionar\r\n                            </v-btn>\r\n                        </v-flex>\r\n                    </v-layout>\r\n                </v-flex>\r\n                <v-flex xs12 sm12 md12>\r\n                    <div v-if=\"showErrorSelection\" class=\"v-messages theme--light error--text\"> <span>Seleccione una direccion antes de confirmar su pedido</span></div>\r\n                    <v-btn outline color=\"secondary\" @click=\"showFormDirection()\">\r\n                        a√±adir direccion<v-icon>add</v-icon>\r\n                    </v-btn>\r\n                    </v-flex>\r\n            <v-divider ></v-divider>\r\n        </v-layout>\r\n        <v-layout  wrap justify-space-between v-else>\r\n             <v-flex  xs12 sm12 md12 >\r\n                <v-alert\r\n                    :value=\"true\"\r\n                    dismissible\r\n                    color=\"warning\"\r\n                    icon=\"priority_high\"\r\n                    outline\r\n                    >\r\n                    no tienes direcciones guardada, create una\r\n                </v-alert>\r\n             </v-flex>\r\n        <!-- </v-layout>\r\n        <v-layout wrap justify-space-between v-if=\"showDirection\"> -->\r\n            <v-flex xs12 sm12 md12 >\r\n            <v-layout  wrap justify-space-between>\r\n\r\n            <v-flex xs6 >\r\n                <v-text-field\r\n                    v-validate=\"{ required: true}\"\r\n                    name=\"name\" \r\n                    label=\"Nombre completo\" \r\n                    :error-messages=\"errors.collect('name')\"\r\n                    data-vv-name=\"name\"\r\n                    v-model=\"name\"\r\n                    required\r\n                    >\r\n                </v-text-field>\r\n                <div class=\"v-messages theme--light error--text\"> <span>{{ errors.first('name') }}</span></div>\r\n                <v-textarea\r\n                    v-validate=\"{required: true, max: 100}\"\r\n                    name=\"direction\" \r\n                    label=\"direccion del pedido\" \r\n                    type=\"text\" \r\n                    :error-messages=\"errors.collect('direction')\"\r\n                    data-vv-name=\"direction\"\r\n                    v-model=\"direction\"\r\n                    required\r\n                    >\r\n                </v-textarea>\r\n                <div class=\"v-messages theme--light error--text\"> <span>{{ errors.first('direction') }}</span></div>\r\n                <v-text-field\r\n                    v-validate=\"{ required: true, max: 12}\"\r\n                    name=\"celular\" \r\n                    label=\"celular destinatario\" \r\n                    :error-messages=\"errors.collect('celular')\"\r\n                    data-vv-name=\"celular\"\r\n                    v-model=\"phone_number\"\r\n                    required\r\n                    >\r\n                </v-text-field>\r\n                <div class=\"v-messages theme--light error--text\"> <span>{{ errors.first('phone_number') }}</span></div>\r\n            </v-flex>\r\n            <v-flex xs6 >\r\n                <gmap-map style=\"height: 400px;\"\r\n                        :zoom=\"14\" :center=\"center\"\r\n                        ref=\"map\" @click=\"clicked\">\r\n                    <gmap-marker\r\n                        :position=\"converToPosition(new_direction.latitud,new_direction.longitud)\"\r\n                        :clickable=\"false\" \r\n                        :draggable=\"false\"\r\n                        />\r\n                    </gmap-map>\r\n                    <!-- <div class=\"v-messages theme--light error--text\"> <span>{{ errors.first('latitud') }}</span></div> -->\r\n                    <!-- <div class=\"v-messages theme--light error--text\"> <span>{{ errors.first('longitud') }}</span></div> -->\r\n                    <div v-if=\"showMark\" class=\"v-messages theme--light error--text\"> <span>marque su direccion en el mapa</span></div>\r\n            </v-flex>\r\n        </v-layout>\r\n\r\n            </v-flex>\r\n            </v-layout>\r\n        <v-layout>\r\n            <v-flex xs12 sm12 md12   class=\"align-rigth\">\r\n                <v-btn\r\n                color=\"primary\"\r\n                @click=\"continuar()\"\r\n                >\r\n                Confirmar pedido\r\n                </v-btn>\r\n            </v-flex>\r\n        </v-layout>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mapState,mapMutations } from 'vuex'\r\nexport default {\r\n    $_veeValidate: {\r\n        validator: 'new'\r\n    },\r\n    data () {\r\n        return {\r\n            selectedDirection:'',\r\n            // showDirection:true,\r\n            showMark:false,\r\n            showErrorSelection:false,\r\n            center: {\r\n                lat: -17.34222036995646,\r\n                lng: -63.255672454833984\r\n            },\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$store.dispatch('getDirectionsByUserId')\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            directions: state => state.carrito.directions,\r\n            new_direction: state => state.carrito.new_direction,\r\n            hasDirection: state => state.carrito.hasDirection\r\n        }),\r\n        name: {\r\n            get () {\r\n                return this.new_direction.name\r\n            },\r\n            set (value) {\r\n                this.$store.commit('name', value)\r\n            }\r\n        },\r\n        direction: {\r\n            get () {\r\n                return this.new_direction.direction\r\n            },\r\n            set (value) {\r\n                this.$store.commit('direction', value)\r\n            }\r\n        },\r\n        phone_number: {\r\n            get () {\r\n                return this.new_direction.phone_number\r\n            },\r\n            set (value) {\r\n                this.$store.commit('phone_number', value)\r\n            }\r\n        },\r\n    },\r\n    methods: {\r\n        // ...mapMutations(['new_direction']),\r\n        clicked (e) {\r\n            let objPosition = {\r\n                'latitud':e.latLng.lat(),\r\n                'longitud':e.latLng.lng()\r\n            }\r\n            this.$store.commit('latitud_latitud',objPosition)\r\n            // this.latitud =  e.latLng.lat()\r\n            // this.longitud =  e.latLng.lng()\r\n            // this.position ={lat:e.latLng.lat(), lng:e.latLng.lng()}\r\n            console.log('lat',e.latLng.lat())\r\n            console.log('lng',e.latLng.lng())\r\n        },\r\n        converToPosition(lat, lng){\r\n            let objPosition = {\r\n                'lat' : parseFloat(lat),\r\n                'lng' : parseFloat(lng)\r\n            }\r\n            // console.log('obj',objPosition)\r\n            return objPosition\r\n        },\r\n        setSelectedDirection(id){\r\n            this.showErrorSelection = false\r\n            this.selectedDirection = id\r\n            this.$store.dispatch('selectDirection',id)\r\n        },\r\n        showFormDirection(){\r\n            this.selectedDirection = ''\r\n            this.$store.dispatch('selectDirection',null)\r\n            // Swal.fire('Hello world!')\r\n        },\r\n        validate(){\r\n            this.$validator.validate().then(result => {\r\n                if (result) {\r\n                    this.$emit('next-step')\r\n                }\r\n            });\r\n        },\r\n        continuar(){\r\n            if(!this.hasDirection){\r\n                if(this.new_direction.latitud == 0 && this.new_direction.longitud == 0){\r\n                    console.log('no marco')\r\n                    this.showMark = true\r\n                }else{\r\n                    this.showMark = false\r\n                    this.validate()\r\n                }\r\n            }else{\r\n                if(this.selectedDirection == 0 || this.selectedDirection == '' ){\r\n                    this.showErrorSelection = true\r\n                }else{\r\n                    this.showErrorSelection = false\r\n                    this.validate()\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n    .is-active{\r\n        border: 3px #23d160 solid\r\n    }\r\n    .align-rigth{\r\n        text-align: right;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src\\views\\main\\cart"}]}