{"remainingRequest":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\babel-loader\\lib\\index.js!D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\vuetify-loader\\lib\\loader.js!D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\src\\views\\administration\\product\\stepFour.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\src\\views\\administration\\product\\stepFour.vue","mtime":1567943927637},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":499162500000},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\kevin\\proyectos\\vue\\trovare_frontend\\EcomerceFrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport _objectSpread from \"D:\\\\kevin\\\\proyectos\\\\vue\\\\trovare_frontend\\\\EcomerceFrontend\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport { mapMultiRowFields } from \"vuex-map-fields\";\nexport default {\n  data: function data() {\n    return {\n      dialogButton: true,\n      dialog: false,\n      mostrar: true,\n      index: '',\n      disableButtonAddFile: true,\n      dessapearDeleteButton: true\n    };\n  },\n  mounted: function mounted() {\n    for (var index = 0; index < this.fileGetter.length; index++) {\n      var element = this.fileGetter[index];\n\n      if (element.url == '') {\n        this.disableButtonAddFile = false;\n        this.dialogButton = false;\n      }\n    }\n  },\n  watch: {\n    dialog: function dialog(val) {\n      var _this = this;\n\n      if (!val) return;\n      setTimeout(function () {\n        return _this.dialog = false;\n      }, 4000);\n    }\n  },\n  computed: _objectSpread({}, mapMultiRowFields([\"files\"]), mapGetters(['fileGetter'])),\n  methods: {\n    generateUUID: function generateUUID() {\n      var d = new Date().getTime();\n\n      if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n        d += performance.now(); //use high-precision timer if available\n      }\n\n      var newGuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c === 'x' ? r : r & 0x3 | 0x8).toString(16);\n      });\n      return newGuid;\n    },\n    onFilePicked: function onFilePicked(event) {\n      var _this2 = this;\n\n      var files = event.target.files;\n      var filename = files[0].name;\n\n      if (filename.lastIndexOf('.') <= 0) {\n        return alert('Please add a valid file!');\n      }\n\n      var fileReader = new FileReader();\n      fileReader.addEventListener('load', function () {\n        var object = {\n          index: _this2.index,\n          url: fileReader.result,\n          file: files,\n          uuid: _this2.generateUUID()\n        };\n\n        _this2.$store.dispatch('putImage', object);\n      });\n      fileReader.readAsDataURL(files[0]);\n      var sizeFile = this.fileGetter.length;\n\n      if (sizeFile == this.$store.state.product.maxUploadImage) {\n        this.disableButtonAddFile = true;\n        this.dialogButton = false;\n      } else {\n        this.image = files[0];\n        this.disableButtonAddFile = false;\n        this.mostrar = false;\n        this.dessapearDeleteButton = true;\n        this.dialogButton = false;\n      }\n    },\n    onPickFile: function onPickFile(index) {\n      this.index = index;\n      this.$refs.fileInput[index].click();\n    },\n    deleteFileImage: function deleteFileImage(index) {\n      var sizeFile = this.fileGetter.length;\n\n      if (sizeFile - 1 > 0) {\n        this.$store.dispatch('deleteFileImage', index);\n        this.disableButtonAddFile = false;\n        this.dialogButton = false;\n      } else if (index == 0 && this.files[0].url !== '') {\n        this.$store.dispatch('emptyFile', index);\n        this.disableButtonAddFile = true;\n        this.dialogButton = true;\n      }\n    },\n    addFileImage: function addFileImage() {\n      this.disableButtonAddFile = true;\n      this.dialogButton = true;\n      var sizeFile = this.fileGetter.length;\n\n      if (sizeFile < this.$store.state.product.maxUploadImage) {\n        if (sizeFile == 0) {\n          this.$store.dispatch('addFileImage');\n          return;\n        }\n\n        if (this.fileGetter[sizeFile - 1].url !== '') {\n          this.$store.dispatch('addFileImage');\n        } else {\n          this.disableButtonAddFile = false;\n        }\n      }\n    },\n    validate: function validate() {\n      this.$emit('next-step');\n    }\n  }\n};",{"version":3,"sources":["stepFour.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA,SAAA,UAAA,QAAA,MAAA;AACA,SAAA,iBAAA,QAAA,iBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,IADA;AAEA,MAAA,MAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA,IAHA;AAIA,MAAA,KAAA,EAAA,EAJA;AAKA,MAAA,oBAAA,EAAA,IALA;AAMA,MAAA,qBAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,IAAA,KAAA,GAAA,CAAA,EAAA,KAAA,GAAA,KAAA,UAAA,CAAA,MAAA,EAAA,KAAA,EAAA,EAAA;AACA,UAAA,OAAA,GAAA,KAAA,UAAA,CAAA,KAAA,CAAA;;AACA,UAAA,OAAA,CAAA,GAAA,IAAA,EAAA,EAAA;AACA,aAAA,oBAAA,GAAA,KAAA;AACA,aAAA,YAAA,GAAA,KAAA;AACA;AACA;AACA,GAnBA;AAoBA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,GADA,EACA;AAAA;;AACA,UAAA,CAAA,GAAA,EAAA;AAEA,MAAA,UAAA,CAAA;AAAA,eAAA,KAAA,CAAA,MAAA,GAAA,KAAA;AAAA,OAAA,EAAA,IAAA,CAAA;AACA;AALA,GApBA;AA4BA,EAAA,QAAA,oBACA,iBAAA,CAAA,CAAA,OAAA,CAAA,CADA,EAEA,UAAA,CAAA,CACA,YADA,CAAA,CAFA,CA5BA;AAkCA,EAAA,OAAA,EAAA;AAEA,IAAA,YAFA,0BAEA;AACA,UAAA,CAAA,GAAA,IAAA,IAAA,GAAA,OAAA,EAAA;;AACA,UAAA,OAAA,WAAA,KAAA,WAAA,IAAA,OAAA,WAAA,CAAA,GAAA,KAAA,UAAA,EAAA;AACA,QAAA,CAAA,IAAA,WAAA,CAAA,GAAA,EAAA,CADA,CACA;AACA;;AACA,UAAA,OAAA,GAAA,uCAAA,OAAA,CAAA,OAAA,EAAA,UAAA,CAAA,EAAA;AACA,YAAA,CAAA,GAAA,CAAA,CAAA,GAAA,IAAA,CAAA,MAAA,KAAA,EAAA,IAAA,EAAA,GAAA,CAAA;AACA,QAAA,CAAA,GAAA,IAAA,CAAA,KAAA,CAAA,CAAA,GAAA,EAAA,CAAA;AACA,eAAA,CAAA,CAAA,KAAA,GAAA,GAAA,CAAA,GAAA,CAAA,GAAA,GAAA,GAAA,GAAA,EAAA,QAAA,CAAA,EAAA,CAAA;AACA,OAJA,CAAA;AAKA,aAAA,OAAA;AACA,KAbA;AAcA,IAAA,YAdA,wBAcA,KAdA,EAcA;AAAA;;AACA,UAAA,KAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA;;AACA,UAAA,QAAA,CAAA,WAAA,CAAA,GAAA,KAAA,CAAA,EAAA;AACA,eAAA,KAAA,CAAA,0BAAA,CAAA;AACA;;AACA,UAAA,UAAA,GAAA,IAAA,UAAA,EAAA;AACA,MAAA,UAAA,CAAA,gBAAA,CAAA,MAAA,EAAA,YAAA;AACA,YAAA,MAAA,GAAA;AACA,UAAA,KAAA,EAAA,MAAA,CAAA,KADA;AAEA,UAAA,GAAA,EAAA,UAAA,CAAA,MAFA;AAGA,UAAA,IAAA,EAAA,KAHA;AAIA,UAAA,IAAA,EAAA,MAAA,CAAA,YAAA;AAJA,SAAA;;AAMA,QAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA,MAAA;AACA,OARA;AASA,MAAA,UAAA,CAAA,aAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,QAAA,GAAA,KAAA,UAAA,CAAA,MAAA;;AACA,UAAA,QAAA,IAAA,KAAA,MAAA,CAAA,KAAA,CAAA,OAAA,CAAA,cAAA,EAAA;AACA,aAAA,oBAAA,GAAA,IAAA;AACA,aAAA,YAAA,GAAA,KAAA;AACA,OAHA,MAGA;AACA,aAAA,KAAA,GAAA,KAAA,CAAA,CAAA,CAAA;AACA,aAAA,oBAAA,GAAA,KAAA;AACA,aAAA,OAAA,GAAA,KAAA;AACA,aAAA,qBAAA,GAAA,IAAA;AACA,aAAA,YAAA,GAAA,KAAA;AACA;AACA,KA1CA;AA2CA,IAAA,UA3CA,sBA2CA,KA3CA,EA2CA;AACA,WAAA,KAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,KAAA,EAAA,KAAA;AACA,KA9CA;AA+CA,IAAA,eA/CA,2BA+CA,KA/CA,EA+CA;AACA,UAAA,QAAA,GAAA,KAAA,UAAA,CAAA,MAAA;;AACA,UAAA,QAAA,GAAA,CAAA,GAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,iBAAA,EAAA,KAAA;AACA,aAAA,oBAAA,GAAA,KAAA;AACA,aAAA,YAAA,GAAA,KAAA;AACA,OAJA,MAKA,IAAA,KAAA,IAAA,CAAA,IAAA,KAAA,KAAA,CAAA,CAAA,EAAA,GAAA,KAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,WAAA,EAAA,KAAA;AACA,aAAA,oBAAA,GAAA,IAAA;AACA,aAAA,YAAA,GAAA,IAAA;AACA;AACA,KA3DA;AA4DA,IAAA,YA5DA,0BA4DA;AACA,WAAA,oBAAA,GAAA,IAAA;AACA,WAAA,YAAA,GAAA,IAAA;AAEA,UAAA,QAAA,GAAA,KAAA,UAAA,CAAA,MAAA;;AACA,UAAA,QAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,OAAA,CAAA,cAAA,EAAA;AACA,YAAA,QAAA,IAAA,CAAA,EAAA;AACA,eAAA,MAAA,CAAA,QAAA,CAAA,cAAA;AACA;AACA;;AACA,YAAA,KAAA,UAAA,CAAA,QAAA,GAAA,CAAA,EAAA,GAAA,KAAA,EAAA,EAAA;AACA,eAAA,MAAA,CAAA,QAAA,CAAA,cAAA;AACA,SAFA,MAEA;AACA,eAAA,oBAAA,GAAA,KAAA;AACA;AACA;AACA,KA5EA;AA6EA,IAAA,QA7EA,sBA6EA;AACA,WAAA,KAAA,CAAA,WAAA;AACA;AA/EA;AAlCA,CAAA","sourcesContent":["<template>\r\n<div>\r\n   \r\n    <v-layout row>\r\n        <v-flex xs12 sm12 md12>\r\n            <v-alert\r\n        v-if=\"mostrar\"\r\n      :value=\"true\"\r\n      type=\"info\"\r\n    >\r\n      Debes subir al menos una sola imagen.\r\n    </v-alert>\r\n        </v-flex>\r\n    </v-layout>\r\n    <v-layout  wrap>\r\n        <v-flex xs12 sm6 md3  v-for=\"(file,index) in files\" :key=\"index\">\r\n            <v-card>\r\n                <v-img\r\n                :src=\"file.url\"\r\n                :lazy-src=\"file.url\"\r\n                aspect-ratio=\"1\"\r\n                contain\r\n                >\r\n                </v-img>\r\n                \r\n                <v-card-actions>\r\n                    <v-btn flat color=\"orange\" @click=\"onPickFile(index)\">Upload Image</v-btn>\r\n                    <input\r\n                        type=\"file\"\r\n                        style=\"display: none\"\r\n                        ref=\"fileInput\"\r\n                        accept=\"image/*\"\r\n                        @change=\"onFilePicked\">\r\n                    <v-btn flat color=\"orange\" v-show=\"dessapearDeleteButton\" @click=\"deleteFileImage(index)\">delete</v-btn>\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-flex>\r\n      <v-flex xs12 sm6 md3 >\r\n     <v-btn @click=\"addFileImage\" :disabled=\"disableButtonAddFile\" >otro</v-btn>\r\n      </v-flex>\r\n  </v-layout>\r\n   <v-btn\r\n      :disabled=\"dialogButton\"\r\n      :loading=\"dialog\"\r\n      class=\"white--text\"\r\n      color=\"primary\"\r\n      @click=\"validate()\"\r\n    >\r\n      finalizar\r\n    </v-btn>\r\n    <v-dialog\r\n      v-model=\"dialog\"\r\n      hide-overlay\r\n      persistent\r\n      width=\"300\"\r\n    >\r\n      <v-card\r\n        color=\"primary\"\r\n        dark\r\n      >\r\n        <v-card-text>\r\n          Guardando producto\r\n          <v-progress-linear\r\n            indeterminate\r\n            color=\"white\"\r\n            class=\"mb-0\"\r\n          ></v-progress-linear>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport { mapMultiRowFields } from \"vuex-map-fields\";\r\nexport default {\r\n      data () {\r\n      return {\r\n        dialogButton:true,\r\n        dialog: false,\r\n        mostrar:true,\r\n        index:'',\r\n        disableButtonAddFile:true,\r\n        dessapearDeleteButton:true\r\n      }\r\n    },\r\n    mounted(){\r\n      for (let index = 0; index < this.fileGetter.length; index++) {\r\n        const element = this.fileGetter[index];\r\n        if(element.url==''){\r\n          this.disableButtonAddFile=false\r\n          this.dialogButton = false\r\n        }\r\n      }\r\n    },\r\n     watch: {\r\n      dialog (val) {\r\n        if (!val) return\r\n\r\n        setTimeout(() => (this.dialog = false), 4000)\r\n      }\r\n    },\r\n  \r\n     computed:{\r\n    ...mapMultiRowFields([\"files\"]),\r\n    ...mapGetters([\r\n            'fileGetter',\r\n        ]),\r\n    },\r\n    methods:{\r\n       \r\n        generateUUID() { \r\n            var d = new Date().getTime();\r\n            if (typeof performance !== 'undefined' && typeof performance.now === 'function'){\r\n                d += performance.now(); //use high-precision timer if available\r\n            }\r\n            var newGuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                var r = (d + Math.random() * 16) % 16 | 0;\r\n                d = Math.floor(d / 16);\r\n                return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n            });\r\n            return newGuid;\r\n        },\r\n        onFilePicked (event) {\r\n            const files = event.target.files\r\n            let filename = files[0].name\r\n            if (filename.lastIndexOf('.') <= 0) {\r\n              return alert('Please add a valid file!')\r\n            }\r\n            const fileReader = new FileReader()\r\n            fileReader.addEventListener('load', () => {\r\n            let object ={\r\n                    index : this.index,\r\n                    url : fileReader.result,\r\n                    file:files,\r\n                    uuid:this.generateUUID()\r\n            }\r\n            this.$store.dispatch('putImage',object)\r\n            })\r\n            fileReader.readAsDataURL(files[0])\r\n            var sizeFile = this.fileGetter.length\r\n            if(sizeFile == this.$store.state.product.maxUploadImage){\r\n                this.disableButtonAddFile = true\r\n                  this.dialogButton = false\r\n            }else{\r\n            this.image = files[0]\r\n            this.disableButtonAddFile = false\r\n            this.mostrar = false\r\n            this.dessapearDeleteButton=true\r\n            this.dialogButton = false\r\n            }\r\n        },\r\n        onPickFile (index) {\r\n            this.index = index\r\n            this.$refs.fileInput[index].click()\r\n        },\r\n        deleteFileImage(index){\r\n          var sizeFile = this.fileGetter.length\r\n          if((sizeFile-1) > 0){\r\n            this.$store.dispatch('deleteFileImage',index)\r\n            this.disableButtonAddFile = false\r\n            this.dialogButton = false\r\n          }else\r\n            if(index==0 && this.files[0].url !== ''){\r\n                this.$store.dispatch('emptyFile',index)\r\n                this.disableButtonAddFile = true\r\n                this.dialogButton = true\r\n            }\r\n        },\r\n        addFileImage(){\r\n            this.disableButtonAddFile = true\r\n            this.dialogButton = true\r\n        \r\n            var sizeFile = this.fileGetter.length\r\n            if(sizeFile < this.$store.state.product.maxUploadImage){\r\n              if(sizeFile == 0){\r\n                this.$store.dispatch('addFileImage')\r\n                return\r\n              }\r\n              if(this.fileGetter[(sizeFile-1)].url !== ''){\r\n                this.$store.dispatch('addFileImage')\r\n              }else{\r\n                this.disableButtonAddFile = false\r\n              }\r\n            } \r\n        },\r\n        validate(){\r\n                this.$emit('next-step')\r\n        }\r\n       \r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"],"sourceRoot":"src\\views\\administration\\product"}]}